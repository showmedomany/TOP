<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Admin">
	<select id="insertFitnessUserSearchIDCheck" parameterType="String" resultType="int">
		select count(*) from vt_members where id=#{searchMsg}	
	</select>
	<select id="insertFitnessUserSearchNickNameCheck" parameterType="String" resultType="int">
		select count(*) from vt_members where nickname=#{searchMsg}	
	</select>
	<select id="insertFitnessUserSearchEmailCheck" parameterType="String" resultType="int">
		select count(*) from vt_members where email=#{searchMsg}	
	</select>

	<select id="insertFitnessUserSearchID" parameterType="String" resultType="member.MemberDataBean">
		select id from vt_members where id=#{searchMsg}	
	</select>
	
	<select id="insertFitnessUserSearchNickName" parameterType="String" resultType="member.MemberDataBean">
		select id from vt_members where nickname=#{searchMsg}		
	</select>
	
	<select id="insertFitnessUserSearchEmail" parameterType="String" resultType="member.MemberDataBean">
		select id from vt_members where email = #{searchMsg}
	</select>
	
	<select id="getUserRegisterCheck" parameterType="String" resultType="int">
		select count(*) from vt_register where id = #{userId}
	</select>
	
	<select id="getUserRegister" parameterType="String" resultType="myPage.RegisterDataBean">
		select * from vt_register where id = #{userId}
	</select>
	
	<select id="getTrainerIdList"  resultType="String">
		select trainer_id from vt_trainer
	</select>
	
	<update id="updateFitnessInfo" parameterType="myPage.RegisterDataBean">
		update vt_register set exp_date=#{exp_date}, start_date=#{start_date}, end_date=#{end_date}, 
		GX_check=#{gx_check}, PT_check=#{pt_check}, PT_count=#{pt_count, jdbcType=VARCHAR}, 
		trainer_id = #{trainer_id} where id = #{id}	
	</update>
	<insert id="insertFitnessInfo" parameterType="myPage.RegisterDataBean">
		insert into vt_register values(register_seq.nextval, #{id}, #{start_date}, #{exp_date}, 
		#{end_date}, #{gx_check}, #{pt_check}, #{pt_count, jdbcType=VARCHAR}, #{trainer_id})		
	</insert>
</mapper>

