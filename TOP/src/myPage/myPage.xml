<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="MyPage">
	<select id="routineInfoIdCheck" parameterType="String" resultType="int">
		select count(*) from vt_routine_info where id = #{id}
	</select>

	<select id="getStartEndDate" parameterType="String" resultType="myPage.RoutineInfoDataBean">
		select START_DATE, END_DATE from vt_routine_info where id = #{id}
	</select>
	<select id="getWeekExerciseSchedule" parameterType="String" resultType="myPage.MemberRoutineDataBean">
		select day, exercise_id, count_check from vt_member_routine
		where routineinfo_id = (select routineinfo_id from vt_routine_info where id = #{id})
	</select>
	<select id="getExerciseNames" parameterType="int" resultType="myPage.ExerciseDataBean">
		select ex_part_id, name from vt_exercise where ex_part_id = #{partId}
	</select>
	
	<select id="getExeriseInfo" parameterType="String" resultType="myPage.ExerciseDataBean">
		select method1, method2, method3, method4 from vt_exercise where name = #{name}
	</select>
	
	<select id="getRegisterData" parameterType="String" resultType="myPage.RegisterDataBean">
		select START_DATE, END_DATE, EXP_DATE, GX_CHECK, PT_CHECK, 
		PT_COUNT, TRAINER_ID from vt_register where id = #{id}
	</select>
	
	<select id="getInbodyData" parameterType="String" resultType="myPage.InbodyDataBean">
		select AGE, HEIGHT, SEX, WEIGHT, BMI, CHECK_DATE from vt_inbody where id = #{id}
	</select>
	
	<select id="getMemberData" parameterType="String" resultType="member.MemberDataBean">
		select PASSWD, NAME, NICKNAME, PHONE, ZIPCODE, ADDRESS, EMAIL, JOIN_DATE from vt_members where id = #{id}
	</select>
	
	<update id="updateMember" parameterType="member.MemberDataBean">
		update vt_members set passwd=#{passwd}, nickname=#{nickname}, phone=#{phone}, zipcode=#{zipcode},
		address=#{address}, email=#{email} where id = #{id}		
	</update>
	
	<delete id="memberDelete" parameterType="String" >		
		delete from vt_members where id = #{id}
	</delete>

</mapper>